import warnings


warnings.filterwarnings("ignore", category=DeprecationWarning)
warnings.filterwarnings("ignore", category=FutureWarning)
import subprocess
import requests
from colorama import Fore

def osint():
    
    target = input(">>> Choose an option\n>>> ")

    if target.lower() == 'a':
        email_address = input(Fore.YELLOW + ">>> Enter the email : ")
        subprocess.run(['holehe', '--no-password-recovery', '--only-used', email_address])

    elif target.lower() == 'b':
        phone_number = input(Fore.YELLOW + ">>> Enter the phone number (including country code) : ")
        subprocess.run(['phoneinfoga', '--no-color', phone_number])

    elif target.lower() == 'c':
        username = input(Fore.YELLOW + ">>> Enter the username : ")
        # subprocess.run(['usernamecheck', username])
        subprocess.run(['pwned', '--service', 'github', username])

    elif target.lower() == 'd':
        domain_name = input(Fore.YELLOW + ">>> Enter the domain name : ")
        # subprocess.run(['amass', 'enum', '-d', domain_name])
        subprocess.run(['sublist3r', '-d', domain_name])

    elif target.lower() == 'e':
        choice = input(Fore.YELLOW + ">>> IP or Domains : ")
        if choice.lower() == 'ip':
            ip_address = input(Fore.YELLOW + ">>> Enter the IP address : ")
            url = f"https://www.virustotal.com/api/v3/ip_addresses/{ip_address}"
            headers = {
                "x-apikey": "17a19b8c00dc3caefe2450420d4e85869200c974dbef550c3ea9ea4a6a3f26ef"
            }

            response  = requests.get(url, headers=headers)

            if response.status_code == 200: 
                print(response.text)
            else: 
                print(f"Error: {response.status_code} - {response.text}")
        elif choice.lower() == 'domain':
            domain = input(Fore.YELLOW + ">>> Enter a domain : ")
            url = f"https://www.virustotal.com/api/v3/domains/{domain}"
            headers = {
                "x-apikey": "17a19b8c00dc3caefe2450420d4e85869200c974dbef550c3ea9ea4a6a3f26ef"
            }

            response  = requests.get(url, headers=headers)

            if response.status_code == 200: 
                print(response.text)
            else: 
                print(f"Error: {response.status_code} - {response.text}")
    

    elif target.lower() == 'z':
        print(Fore.RED + ">>> Going back...")
        return

    else:
        print(Fore.RED + ">>> Invalid target. Please enter 'a', 'b', 'c', 'd', 'e', or 'z'.")